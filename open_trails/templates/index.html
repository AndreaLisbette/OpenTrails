<!DOCTYPE html>
<html lang="en-us">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Code for America</title>

 	<!-- LEAFLET -->

    <!-- CODE FOR AMERICA STYLES -->
    <link rel="stylesheet" type="text/css" href="//cloud.typography.com/6435252/678502/css/fonts.css" />
    <link rel="stylesheet" href="http://style.codeforamerica.org/0/style/css/main.css">
    <link rel="stylesheet" href="http://style.codeforamerica.org/0/style/css/layout.css" media="all and (min-width: 40em)">
    <link href="http://style.codeforamerica.org/0/style/css/prism.css" rel="stylesheet" />
    <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">
    <link rel="apple-touch-icon-precomposed" href="http://style.codeforamerica.org/0/style/favicons/60x60/flag-red.png"/>

    <!--[if lt IE 9]>
        <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!--[if (lt IE 9)&(gt IE 6)&(!IEMobile)]>
        <link rel="stylesheet" href="http://style.codeforamerica.org/0/style/css/layout.css" media="all">
    <![endif]-->

	<!-- CUSTOM STYLES -->
	<link rel="stylesheet" href="../static/css/app.css" />

    {% if geojson %}
    <script src='https://api.tiles.mapbox.com/mapbox.js/v1.6.2/mapbox.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox.js/v1.6.2/mapbox.css' rel='stylesheet' />
    {% endif %}
</head>

<!-- Remove this inline style -->
<body>
	<section class="layout-semibreve layout-centered">

	        <h3 class="h3">Parks and trails are a cornerstone of public health and quality of life. The Public Land and Trail Specification helps citizens get outdoors to enjoy them.</h3>

	</section>

    {% if not stewards_info %}
	<section class="layout-semibreve slab-gray" id="steward-form">
		<form id="stewards" action="/new-steward" method=post enctype=multipart/form-data>
			<h3 class="h3">Create your Organization Profile</h3>
			<p>Tell us about your organization. This information helps data consumers understand where this data came from, and who to get in touch with if needed. This same information is used by visitors who may need assistance while visiting your lands or trails.</p>
			<ul class="list-form">
        <li class="form-field-group">
            <div class="form-field">
              <label for="name">Organization Name<abbr title="Required">*</abbr></label>
              <input name="name" class="input" type="text" required/>
            </div>
            <div class="form-field">
              <label for="url">Web Address <abbr title="Required">*</abbr></label>
              <input name="url" class="input" type="url" placeholder="http://example.com" required/>
            </div>
        </li>
        <input type=submit id="steward-form-submit-btn" class="button">
      </ul>
		</form>
	</section>
    {% endif %}

    {% if stewards_info %}
    <section class="layout-semibreve slab-gray" id="steward">
            <h3 class="h3">Your Organization Profile</h3>
            <p>This information helps data consumers understand where this data came from, and who to get in touch with if needed. This same information is used by visitors who may need assistance while visiting your lands or trails.</p>
            <div class="layout-minim">
                <!-- Steward name -->
                <p>
                    {{ stewards_info.name }}
                </p>
                <!-- Steward email -->
                <p>

                </p>
            </div>
            <div class="layout-minim">
                <!-- Steward phone -->
                <p>
                    {{ stewards_info.phone}}
                </p>
                <!-- Steward url -->
                <p>
                    {{ stewards_info.url}}
                </p>
            </div>

    </section>

        {% if not geojson %}
        <section class="layout-semibreve">
            <h3 class="h3">Upload your trail data!!!!</h3>
            <p>Give it all to us!</p>
            <form action="/stewards/{{ stewards_info.id }}/upload-zip" method=post enctype=multipart/form-data>
                <p>
                    <input type=file name=file>
                 <input type=submit value=Upload>
                </p>
            </form>
        </section>
        {% endif %}

        {% if geojson %}
        <section class="layout-semibreve">
            <h3>Segments</h3>
            <div id="map"></div>
        </section>
        <script>
            var geojson = {{ geojson | tojson | safe }}
            var map = L.mapbox.map('map', 'codeforamerica.i7jo99nd')
            geojsonLayer = L.geoJson(geojson, {
                style: function (feature) {
                    return {color: "red"};
                }
            })
            geojsonLayer.addTo(map);
            map.fitBounds(geojsonLayer.getBounds());
        </script>
        {% endif %}


    {% endif %}

<script>
</script>
</html>
